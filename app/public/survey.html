<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
    <title>Survey</title>
</head>

<body>
    <div class="col-md-12">
        <div class="row">
            <div class="col-md-1">
            </div>
            <div class="col-md-10">
                <div id="questions">
                    <h2>Survey Questions</h2>
                    <div class="form-group">
                        <label for="formGroupExampleInput">Name (Required)</label>
                        <input type="text" class="form-control" id="newName" placeholder="John Smith">
                    </div>
                    <div class="form-group">
                        <label for="formGroupExampleInput2">Link to Photo Image (Required)</label>
                        <input type="text" class="form-control" id="newPhoto" placeholder="http://a.espncdn.com/combiner/i?img=/i/headshots/nfl/players/full/5528.png&w=350&h=254">
                    </div>
                    <form>
                        <h4>Question 1</h4>
                        <div>
                            <div class="form-group">
                                <label for="exampleFormControlInput1">Your mind is always buzzing with unexplored ideas and plans.</label>
                                <input type="input" class="form-control" id="q1" placeholder="enter a number between 1 and 5 with 1 being strongly disagree and 5 strongly agree">
                            </div>
                        </div>
                    </form>
                    <form>
                        <h4>Question 2</h4>
                        <div>
                            <div>
                                <div class="form-group">
                                    <label for="exampleFormControlInput1">Generally speaking, you rely more on your experience than your imagination.</label>
                                    <input type="input" class="form-control" id="q2" placeholder="enter a number between 1 and 5 with 1 being strongly disagree and 5 strongly agree">
                                </div>
                            </div>
                        </div>
                    </form>
                    <form>
                        <h4>Question 3</h4>
                        <div>
                            <div>
                                <div class="form-group">
                                    <label for="exampleFormControlInput1">You find it easy to stay relaxed and focused even when there is some pressure.</label>
                                    <input type="input" class="form-control" id="q3" placeholder="enter a number between 1 and 5 with 1 being strongly disagree and 5 strongly agree">
                                </div>
                            </div>
                        </div>
                    </form>
                    <form>
                        <h4>Question 4</h4>
                        <div>
                            <div>
                                <div class="form-group">
                                    <label for="exampleFormControlInput1">You rarely do something just out of sheer curiosity.</label>
                                    <input type="input" class="form-control" id="q4" placeholder="enter a number between 1 and 5 with 1 being strongly disagree and 5 strongly agree">
                                </div>
                            </div>
                        </div>
                    </form>
                    <form>
                        <h4>Question 5</h4>
                        <div>
                            <div>
                                <div class="form-group">
                                    <label for="exampleFormControlInput1">People can rarely upset you.</label>
                                    <input type="input" class="form-control" id="q5" placeholder="enter a number between 1 and 5 with 1 being strongly disagree and 5 strongly agree">
                                </div>
                            </div>
                        </div>
                    </form>
                    <form>
                        <h4>Question 6</h4>
                        <div>
                            <div>
                                <div class="form-group">
                                    <label for="exampleFormControlInput1">It is often difficult for you to relate to other people’s feelings.</label>
                                    <input type="input" class="form-control" id="q6" placeholder="enter a number between 1 and 5 with 1 being strongly disagree and 5 strongly agree">
                                </div>
                            </div>
                        </div>
                    </form>
                    <form>
                        <h4>Question 7</h4>
                        <div>
                            <div>
                                <div class="form-group">
                                    <label for="exampleFormControlInput1">In a discussion, truth should be more important than people’s sensitivities.</label>
                                    <input type="input" class="form-control" id="q7" placeholder="enter a number between 1 and 5 with 1 being strongly disagree and 5 strongly agree">
                                </div>
                            </div>
                        </div>
                    </form>
                    <form>
                        <h4>Question 8</h4>
                        <div>
                            <div>
                                <div class="form-group">
                                    <label for="exampleFormControlInput1">You rarely get carried away by fantasies and ideas.</label>
                                    <input type="input" class="form-control" id="q8" placeholder="enter a number between 1 and 5 with 1 being strongly disagree and 5 strongly agree">
                                </div>
                            </div>
                        </div>
                    </form>
                    <form>
                        <h4>Question 9</h4>
                        <div>
                            <div>
                                <div class="form-group">
                                    <label for="exampleFormControlInput1">You think that everyone’s views should be respected regardless of whether they are supported
                                        by facts or not.</label>
                                    <input type="input" class="form-control" id="q9" placeholder="enter a number between 1 and 5 with 1 being strongly disagree and 5 strongly agree">
                                </div>
                            </div>
                        </div>
                    </form>
                    <form>
                        <h4>Question 10</h4>
                        <div id="question10">
                            <div>
                                <div class="form-group">
                                    <label for="exampleFormControlInput1">You feel more energetic after spending time with a group of people.</label>
                                    <input type="input" class="form-control" id="q10" placeholder="enter a number between 1 and 5 with 1 being strongly disagree and 5 strongly agree">
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <button type="button" class="btn btn-primary" id="submit-btn">Submit</button>
                <a class="btn btn-primary btn-lg" href="/home" role="button" id="home-btn">Home</a>
                <div id="friendInfo">
                    <h2>Your new friend is:</h2>
                    <p id="friendName">Tom Brady</p>
                    <span id="friendPhoto"></span>
                </div>
            </div>
            <div class="col-md-1">
            </div>
        </div>
    </div>

    <script>
        $(document).ready(function () {
            $('#friendInfo').hide()
            $("#questions").show()
            $("#submit-btn").show()
            $("#home-btn").hide()
        });



        $("#submit-btn").on("click", function (event) {
            event.preventDefault();
            var newFriend = {
                name: $("#newName").val().trim(),
                photo: $("#newPhoto").val().trim(),
                scores: [$("#q1").val().trim(), $("#q2").val().trim(), $("#q3").val().trim(), $("#q4").val().trim(), $("#q5").val().trim(), $("#q6").val().trim(), $("#q7").val().trim(), $("#q8").val().trim(), $("#q9").val().trim(), $("#q10").val().trim(),]
            }

            $.post("/api/friends", newFriend,
                function (data) {
                    // Clear the form when submitting
                    $("#newName").val("");
                    $("#newPhoto").val("");
                    $("#q1").val("");
                    $("#q2").val("");
                    $("#q3").val("");
                    $("#q4").val("");
                    $("#q5").val("");
                    $("#q6").val("");
                    $("#q7").val("");
                    $("#q8").val("");
                    $("#q9").val("");
                    $("#q10").val("");
                });
            $('#friendInfo').show()
            $("#questions").hide()
            $("#submit-btn").hide()
            $("#home-btn").show()
            console.log(newFriend)

            $.get("/api/survey", function (data) {
                console.log("Data" + data)
                $("#friendName").text(data.name)
                $("#friendPhoto").html("<img src =" + data.photo + ">")
            });

            
        })


    </script>
</body>

</html>